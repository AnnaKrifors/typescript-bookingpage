{"ast":null,"code":"import { createServer, Model, Response } from 'miragejs';\nexport function makeServer() {\n  let server = createServer({\n    models: {\n      user: Model,\n      activity: Model,\n      // Add a model for activities\n      booking: Model\n    },\n    seeds(server) {\n      console.log(\"Working\");\n      server.create('user', {\n        id: 5,\n        name: 'Alex',\n        password: 'AlexPassword',\n        role: 'USER',\n        activities: []\n      });\n      server.create('user', {\n        id: 6,\n        name: 'Anna',\n        password: 'AnnaPassword',\n        role: 'ADMIN',\n        activities: []\n      });\n      server.create('user', {\n        id: 7,\n        name: 'Roger',\n        password: 'RogerPassword',\n        role: 'USER',\n        activities: []\n      });\n      /*\n      \n      export interface Activity{\n      id:string;\n      title:string;\n      content:string;\n      date:Date;\n      maxCount: number;\t\n      }*/\n\n      server.create('activity', {\n        id: 1,\n        title: 'Boxing',\n        content: 'Boxing in the mud',\n        date: new Date(2023, 5, 20),\n        maxCount: 20\n      });\n      server.create('activity', {\n        id: 2,\n        title: 'Spinning',\n        content: 'Indoor cycling',\n        date: new Date(2023, 8, 5),\n        maxCount: 7\n      });\n      server.create('activity', {\n        id: 3,\n        title: 'Gym',\n        content: 'Strength training',\n        date: new Date(2023, 9, 19),\n        maxCount: 2\n      });\n      server.create('activity', {\n        id: 4,\n        title: 'Aerobics',\n        content: 'Cardio workout',\n        date: new Date(2023, 9, 13),\n        maxCount: 15\n      });\n    },\n    routes() {\n      this.get('/user', schema => {\n        return new Response(200, {\n          'Content-Type': 'application/json'\n        }, schema.db.users);\n      });\n      this.get('/activities', schema => {\n        return new Response(200, {\n          'Content-Type': 'application/json'\n        }, schema.db.activities);\n      });\n      this.post('/bookings', (schema, request) => {\n        console.log('Received booking request:', request.requestBody);\n        try {\n          const bookingData = JSON.parse(request.requestBody);\n          const booking = schema.bookings.create(bookingData);\n          console.log('Created booking:', booking);\n          return booking;\n        } catch (error) {\n          console.error('Error creating booking:', error);\n          return new Response(500); // Return a 500 status code on error\n        }\n      });\n\n      console.log(\"TestTest\");\n    }\n  });\n  return server;\n}\n\n/////TEST 2\n\n// import { createServer, Model, Response, Server, JSONAPISerializer } from 'miragejs';\n\n// export function makeServer(): Server {\n//   let server = createServer({\n//     serializers: {\n//       application: JSONAPISerializer,\n//     },\n\n//     models: {\n//       user: Model,\n//     },\n\n//     seeds(server): void {\n//       console.log(\"Working\");\n//       server.create('user', { name: 'Bob' });\n//       server.create('user', { name: 'Alice' });\n//     },\n\n//     routes(): void {\n//       this.get('/users', (schema): Response => {\n//         console.log(\"TestTest\");\n//         const users = schema.db.users;\n//         return new Response(200, { 'Content-Type': 'application/json' }, { users });\n//       });\n//     },\n//   });\n\n//   return server;\n// }","map":{"version":3,"names":["createServer","Model","Response","makeServer","server","models","user","activity","booking","seeds","console","log","create","id","name","password","role","activities","title","content","date","Date","maxCount","routes","get","schema","db","users","post","request","requestBody","bookingData","JSON","parse","bookings","error"],"sources":["/Users/annakrifors/Documents/Documents/Anna Kodjobb/Bookingpage/src/server.js"],"sourcesContent":["import { createServer, Model, Response } from 'miragejs';\n\nexport function makeServer() {\n  let server = createServer({\n    models: {\n      user: Model,\n      activity: Model, // Add a model for activities\n      booking: Model,\n    },\n    \n    seeds(server) {\n      console.log(\"Working\");\n      server.create('user', { \n        id: 5,\n        name: 'Alex',\n        password: 'AlexPassword',\n        role: 'USER',\n        activities: [],\n      });\n      server.create('user', { \n        id: 6,\n        name: 'Anna',\n        password: 'AnnaPassword',\n        role: 'ADMIN',\n        activities: [],\n      });\n      server.create('user', {\n        id: 7,\n        name: 'Roger',\n        password: 'RogerPassword',\n        role: 'USER',\n        activities: [],\n      });\n      /*\n      \nexport interface Activity{\n    id:string;\n    title:string;\n    content:string;\n    date:Date;\n\tmaxCount: number;\t\n    \n}*/\n      \n      server.create('activity', { \n        id: 1,\n        title: 'Boxing',\n        content: 'Boxing in the mud',\n        date: new Date(2023, 5, 20), \n        maxCount: 20,\n      });\n      server.create('activity', { \n        id: 2,\n        title: 'Spinning',\n        content: 'Indoor cycling',\n        date: new Date(2023, 8, 5),\n        maxCount: 7,\n      });\n      server.create('activity', {\n        id: 3, \n        title: 'Gym',\n        content: 'Strength training',\n        date: new Date(2023, 9, 19),\n        maxCount: 2,\n      });\n      server.create('activity', { \n        id: 4,\n        title: 'Aerobics',\n        content: 'Cardio workout',\n        date: new Date(2023, 9, 13),\n        maxCount: 15,\n      });\n    },\n\n    routes() {\n      this.get('/user', (schema) => {\n        return new Response(200, { 'Content-Type': 'application/json' }, schema.db.users);\n      });\n\n      this.get('/activities', (schema) => {\n        return new Response(200, { 'Content-Type': 'application/json' }, schema.db.activities);\n      });\n\n      this.post('/bookings', (schema, request) => {\n        console.log('Received booking request:', request.requestBody);\n        try {\n          const bookingData = JSON.parse(request.requestBody);\n          const booking = schema.bookings.create(bookingData);\n          console.log('Created booking:', booking);\n          return booking;\n        } catch (error) {\n          console.error('Error creating booking:', error);\n          return new Response(500); // Return a 500 status code on error\n        }\n      });\n\n      console.log(\"TestTest\");\n    },\n  });\n\n  return server;\n}\n\n\n\n/////TEST 2\n\n// import { createServer, Model, Response, Server, JSONAPISerializer } from 'miragejs';\n\n// export function makeServer(): Server {\n//   let server = createServer({\n//     serializers: {\n//       application: JSONAPISerializer,\n//     },\n\n//     models: {\n//       user: Model,\n//     },\n    \n//     seeds(server): void {\n//       console.log(\"Working\");\n//       server.create('user', { name: 'Bob' });\n//       server.create('user', { name: 'Alice' });\n//     },\n\n//     routes(): void {\n//       this.get('/users', (schema): Response => {\n//         console.log(\"TestTest\");\n//         const users = schema.db.users;\n//         return new Response(200, { 'Content-Type': 'application/json' }, { users });\n//       });\n//     },\n//   });\n\n//   return server;\n// }\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}