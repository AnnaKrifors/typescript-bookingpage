{"ast":null,"code":"import { createServer, Model, Response } from 'miragejs';\nexport function makeServer() {\n  let server = createServer({\n    models: {\n      user: Model,\n      activity: Model,\n      booking: Model,\n      time: Model\n    },\n    seeds(server) {\n      server.create('user', {\n        id: 5,\n        username: 'Alex',\n        password: 'AlexPassword',\n        role: 'USER',\n        activities: []\n      });\n      server.create('user', {\n        id: 6,\n        username: 'Anna',\n        password: 'AnnaPassword',\n        role: 'ADMIN',\n        activities: []\n      });\n      server.create('user', {\n        id: 7,\n        username: 'Roger',\n        password: 'RogerPassword',\n        role: 'USER',\n        activities: [{\n          id: 1,\n          title: 'Boxing',\n          content: 'Boxing in the mud',\n          date: new Date(2023, 5, 20, 14, 0),\n          maxCount: 10\n        }]\n      });\n      server.create('activity', {\n        id: 1,\n        title: 'Boxing',\n        content: 'Boxing in the mud',\n        date: new Date(2023, 9, 7, 14, 0),\n        maxCount: 20\n      });\n      server.create('activity', {\n        id: 2,\n        title: 'Spinning',\n        content: 'Indoor cycling',\n        date: new Date(2023, 8, 5, 12, 30),\n        maxCount: 7\n      });\n      server.create('activity', {\n        id: 3,\n        title: 'Gym',\n        content: 'Strength training',\n        date: new Date(2023, 9, 13, 9, 0),\n        maxCount: 2\n      });\n      server.create('activity', {\n        id: 4,\n        title: 'Aerobics',\n        content: 'Cardio workout',\n        date: new Date(2023, 9, 13, 10, 30),\n        maxCount: 15\n      });\n    },\n    routes() {\n      this.get('/user', (schema, request) => {\n        const {\n          queryParams\n        } = request;\n        const {\n          username,\n          password\n        } = queryParams;\n        const user = schema.users.findBy({\n          username: username,\n          password\n        });\n        if (user) {\n          return new Response(200, {\n            'Content-Type': 'application/json'\n          }, user);\n        } else {\n          return new Response(401, {\n            'Content-Type': 'application/json'\n          }, {\n            error: 'Invalid credentials'\n          });\n        }\n      });\n      this.get('/users', schema => {\n        const users = schema.db.users;\n        return new Response(200, {\n          'Content-Type': 'application/json'\n        }, users);\n      });\n      this.post('/login', (schema, request) => {\n        const {\n          username,\n          password\n        } = JSON.parse(request.requestBody);\n        const user = schema.db.users.findBy({\n          name: username,\n          password\n        });\n        if (user) {\n          return new Response(200, {\n            'Content-Type': 'application/json'\n          }, user);\n        } else {\n          return new Response(401, {\n            'Content-Type': 'application/json'\n          }, {\n            error: 'Invalid credentials'\n          });\n        }\n      });\n      this.get('/activities', schema => {\n        return new Response(200, {\n          'Content-Type': 'application/json'\n        }, schema.db.activities);\n      });\n      this.post('/bookings', (schema, request) => {\n        console.log('Received booking request:', request.requestBody);\n        try {\n          const bookingData = JSON.parse(request.requestBody);\n          const booking = schema.bookings.create(bookingData);\n          console.log('Created booking:', booking);\n          return booking;\n        } catch (error) {\n          console.error('Error creating booking:', error);\n          return new Response(500); // Return a 500 status code on error\n        }\n      });\n      // ...\n\n      this.post('/activities', (schema, request) => {\n        const activityData = JSON.parse(request.requestBody);\n        const activity = schema.activities.create(activityData);\n        return activity;\n      });\n\n      // ...\n    }\n  });\n\n  return server;\n}","map":{"version":3,"names":["createServer","Model","Response","makeServer","server","models","user","activity","booking","time","seeds","create","id","username","password","role","activities","title","content","date","Date","maxCount","routes","get","schema","request","queryParams","users","findBy","error","db","post","JSON","parse","requestBody","name","console","log","bookingData","bookings","activityData"],"sources":["/Users/annakrifors/Documents/Documents/Anna Kodjobb/Bookingpage/src/server.js"],"sourcesContent":["\n\n\n\nimport { createServer, Model, Response } from 'miragejs';\n\nexport function makeServer() {\n  let server = createServer({\n    models: {\n      user: Model,\n      activity: Model,\n      booking: Model,\n      time:Model,\n    },\n    \n    seeds(server) {\n      server.create('user', { \n        id: 5,\n        username: 'Alex',\n        password: 'AlexPassword',\n        role: 'USER',\n        activities: [],\n      });\n      server.create('user', { \n        id: 6,\n        username: 'Anna',\n        password: 'AnnaPassword',\n        role: 'ADMIN',\n        activities: [ ],\n      });\n      server.create('user', {\n        id: 7,\n        username: 'Roger',\n        password: 'RogerPassword',\n        role: 'USER',\n        activities: [\n          {\n            id: 1,\n            title: 'Boxing',\n            content: 'Boxing in the mud',\n            date: new Date(2023, 5, 20, 14, 0),\n            maxCount: 10,\n          },\n        ],\n    });\n      \n      \n      server.create('activity', { \n        id: 1,\n        title: 'Boxing',\n        content: 'Boxing in the mud',\n        date:new Date(2023, 9, 7, 14, 0), \n        maxCount: 20,\n      });\n      server.create('activity', { \n        id: 2,\n        title: 'Spinning',\n        content: 'Indoor cycling',\n        date: new Date(2023, 8, 5, 12, 30),\n        maxCount: 7,\n      });\n      server.create('activity', {\n        id: 3, \n        title: 'Gym',\n        content: 'Strength training',\n        date: new Date(2023,9,13, 9, 0),\n        maxCount: 2,\n      });\n      server.create('activity', { \n        id: 4,\n        title: 'Aerobics',\n        content: 'Cardio workout',\n        date: new Date(2023, 9, 13, 10, 30),\n        maxCount: 15,\n      });\n    },\n\n    routes() {\n      this.get('/user', (schema, request) => {\n        const { queryParams } = request;\n        const { username, password } = queryParams;\n\n        const user = schema.users.findBy({ username: username, password });\n\n        if (user) {\n          return new Response(200, { 'Content-Type': 'application/json' }, user);\n        } else {\n          return new Response(401, { 'Content-Type': 'application/json' }, { error: 'Invalid credentials' });\n        }\n      });\n\n      this.get('/users', (schema) => {\n        const users = schema.db.users;\n        return new Response(200, { 'Content-Type': 'application/json' }, users);\n      });\n      \n      \n\n      this.post('/login', (schema, request) => {\n        const { username, password } = JSON.parse(request.requestBody);\n        const user = schema.db.users.findBy({ name: username, password });\n      \n        if (user) {\n          return new Response(200, { 'Content-Type': 'application/json' }, user);\n        } else {\n          return new Response(401, { 'Content-Type': 'application/json' }, { error: 'Invalid credentials' });\n        }\n      });\n      \n\n      this.get('/activities', (schema) => {\n        return new Response(200, { 'Content-Type': 'application/json' }, schema.db.activities);\n      });\n\n      this.post('/bookings', (schema, request) => {\n        console.log('Received booking request:', request.requestBody);\n        try {\n          const bookingData = JSON.parse(request.requestBody);\n          const booking = schema.bookings.create(bookingData);\n          console.log('Created booking:', booking);\n          return booking;\n        } catch (error) {\n          console.error('Error creating booking:', error);\n          return new Response(500); // Return a 500 status code on error\n        }\n      });\n      // ...\n\nthis.post('/activities', (schema, request) => {\n  const activityData = JSON.parse(request.requestBody);\n  const activity = schema.activities.create(activityData);\n  return activity;\n});\n\n// ...\n\n    },\n  });\n\n  return server;\n}\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}