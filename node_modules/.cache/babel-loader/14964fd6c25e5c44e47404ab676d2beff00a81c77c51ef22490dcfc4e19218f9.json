{"ast":null,"code":"import { createServer, Model, Response } from 'miragejs';\nexport function makeServer() {\n  let server = createServer({\n    models: {\n      user: Model,\n      activity: Model,\n      booking: Model\n    },\n    seeds(server) {\n      server.create('user', {\n        id: 5,\n        name: 'Alex',\n        password: 'AlexPassword',\n        role: 'USER',\n        activities: []\n      });\n      server.create('user', {\n        id: 6,\n        name: 'Anna',\n        password: 'AnnaPassword',\n        role: 'ADMIN',\n        activities: []\n      });\n      server.create('user', {\n        id: 7,\n        name: 'Roger',\n        password: 'RogerPassword',\n        role: 'USER',\n        activities: [{\n          id: 1,\n          title: 'boxing',\n          content: \"boxing in mud\",\n          date: new Date(),\n          maxCount: 20\n        }]\n      });\n      server.create('activity', {\n        id: 1,\n        title: 'Boxing',\n        content: 'Boxing in the mud',\n        date: new Date(2023, 5, 20),\n        maxCount: 20\n      });\n      server.create('activity', {\n        id: 2,\n        title: 'Spinning',\n        content: 'Indoor cycling',\n        date: new Date(2023, 8, 5),\n        maxCount: 7\n      });\n      server.create('activity', {\n        id: 3,\n        title: 'Gym',\n        content: 'Strength training',\n        date: new Date(2023, 9, 19),\n        maxCount: 2\n      });\n      server.create('activity', {\n        id: 4,\n        title: 'Aerobics',\n        content: 'Cardio workout',\n        date: new Date(2023, 9, 13),\n        maxCount: 15\n      });\n    },\n    routes() {\n      this.get('/user', (schema, request) => {\n        const {\n          queryParams\n        } = request;\n        const {\n          username,\n          password\n        } = queryParams;\n        const user = schema.users.findBy({\n          name: username,\n          password\n        });\n        if (user) {\n          return new Response(200, {\n            'Content-Type': 'application/json'\n          }, user);\n        } else {\n          return new Response(401, {\n            'Content-Type': 'application/json'\n          }, {\n            error: 'Invalid credentials'\n          });\n        }\n      });\n      this.post('/login', (schema, request) => {\n        const {\n          username,\n          password\n        } = JSON.parse(request.requestBody);\n        const user = schema.db.users.findBy({\n          name: username,\n          password\n        });\n        if (user) {\n          return new Response(200, {\n            'Content-Type': 'application/json'\n          }, user);\n        } else {\n          return new Response(401, {\n            'Content-Type': 'application/json'\n          }, {\n            error: 'Invalid credentials'\n          });\n        }\n      });\n      this.get('/activities', schema => {\n        return new Response(200, {\n          'Content-Type': 'application/json'\n        }, schema.db.activities);\n      });\n      this.post('/bookings', (schema, request) => {\n        console.log('Received booking request:', request.requestBody);\n        try {\n          const bookingData = JSON.parse(request.requestBody);\n          const booking = schema.bookings.create(bookingData);\n          console.log('Created booking:', booking);\n          return booking;\n        } catch (error) {\n          console.error('Error creating booking:', error);\n          return new Response(500); // Return a 500 status code on error\n        }\n      });\n      // ...\n\n      this.post('/activities', (schema, request) => {\n        const activityData = JSON.parse(request.requestBody);\n        const activity = schema.activities.create(activityData);\n        return activity;\n      });\n\n      // ...\n    }\n  });\n\n  return server;\n}\n\n/*import { createServer, Model, Response } from 'miragejs';\n\nexport function makeServer() {\n  let server = createServer({\n    models: {\n      user: Model,\n      activity: Model, // Add a model for activities\n      booking: Model,\n    },\n    \n    seeds(server) {\n      console.log(\"Working\");\n      server.create('user', { \n        id: 5,\n        name: 'Alex',\n        password: 'AlexPassword',\n        role: 'USER',\n        activities: [],\n      });\n      server.create('user', { \n        id: 6,\n        name: 'Anna',\n        password: 'AnnaPassword',\n        role: 'ADMIN',\n        activities: [],\n      });\n      server.create('user', {\n        id: 7,\n        name: 'Roger',\n        password: 'RogerPassword',\n        role: 'USER',\n        activities: [],\n      });\n      \n      server.create('activity', { \n        id: 1,\n        title: 'Boxing',\n        content: 'Boxing in the mud',\n        date: new Date(2023, 5, 20), \n        maxCount: 20,\n      });\n      server.create('activity', { \n        id: 2,\n        title: 'Spinning',\n        content: 'Indoor cycling',\n        date: new Date(2023, 8, 5),\n        maxCount: 7,\n      });\n      server.create('activity', {\n        id: 3, \n        title: 'Gym',\n        content: 'Strength training',\n        date: new Date(2023, 9, 19),\n        maxCount: 2,\n      });\n      server.create('activity', { \n        id: 4,\n        title: 'Aerobics',\n        content: 'Cardio workout',\n        date: new Date(2023, 9, 13),\n        maxCount: 15,\n      });\n    },\n\n    routes() {\n      this.get('/user', (schema) => {\n        return new Response(200, { 'Content-Type': 'application/json' }, schema.db.users);\n      });\n\n      this.get('/activities', (schema) => {\n        return new Response(200, { 'Content-Type': 'application/json' }, schema.db.activities);\n      });\n\n      this.post('/bookings', (schema, request) => {\n        console.log('Received booking request:', request.requestBody);\n        try {\n          const bookingData = JSON.parse(request.requestBody);\n          const booking = schema.bookings.create(bookingData);\n          console.log('Created booking:', booking);\n          return booking;\n        } catch (error) {\n          console.error('Error creating booking:', error);\n          return new Response(500); // Return a 500 status code on error\n        }\n      });\n\n      console.log(\"TestTest\");\n    },\n  });\n\n  return server;\n}\n*/\n\n/////TEST 2\n\n// import { createServer, Model, Response, Server, JSONAPISerializer } from 'miragejs';\n\n// export function makeServer(): Server {\n//   let server = createServer({\n//     serializers: {\n//       application: JSONAPISerializer,\n//     },\n\n//     models: {\n//       user: Model,\n//     },\n\n//     seeds(server): void {\n//       console.log(\"Working\");\n//       server.create('user', { name: 'Bob' });\n//       server.create('user', { name: 'Alice' });\n//     },\n\n//     routes(): void {\n//       this.get('/users', (schema): Response => {\n//         console.log(\"TestTest\");\n//         const users = schema.db.users;\n//         return new Response(200, { 'Content-Type': 'application/json' }, { users });\n//       });\n//     },\n//   });\n\n//   return server;\n// }","map":{"version":3,"names":["createServer","Model","Response","makeServer","server","models","user","activity","booking","seeds","create","id","name","password","role","activities","title","content","date","Date","maxCount","routes","get","schema","request","queryParams","username","users","findBy","error","post","JSON","parse","requestBody","db","console","log","bookingData","bookings","activityData"],"sources":["/Users/annakrifors/Documents/Documents/Anna Kodjobb/Bookingpage/src/server.js"],"sourcesContent":["\n\n\n\nimport { createServer, Model, Response } from 'miragejs';\n\nexport function makeServer() {\n  let server = createServer({\n    models: {\n      user: Model,\n      activity: Model,\n      booking: Model,\n    },\n    \n    seeds(server) {\n      server.create('user', { \n        id: 5,\n        name: 'Alex',\n        password: 'AlexPassword',\n        role: 'USER',\n        activities: [],\n      });\n      server.create('user', { \n        id: 6,\n        name: 'Anna',\n        password: 'AnnaPassword',\n        role: 'ADMIN',\n        activities: [],\n      });\n      server.create('user', {\n        id: 7,\n        name: 'Roger',\n        password: 'RogerPassword',\n        role: 'USER',\n        activities: [{id:1,title:'boxing',content:\"boxing in mud\", date:new Date(),maxCount:20}],\n      });\n      \n      server.create('activity', { \n        id: 1,\n        title: 'Boxing',\n        content: 'Boxing in the mud',\n        date: new Date(2023, 5, 20), \n        maxCount: 20,\n      });\n      server.create('activity', { \n        id: 2,\n        title: 'Spinning',\n        content: 'Indoor cycling',\n        date: new Date(2023, 8, 5),\n        maxCount: 7,\n      });\n      server.create('activity', {\n        id: 3, \n        title: 'Gym',\n        content: 'Strength training',\n        date: new Date(2023, 9, 19),\n        maxCount: 2,\n      });\n      server.create('activity', { \n        id: 4,\n        title: 'Aerobics',\n        content: 'Cardio workout',\n        date: new Date(2023, 9, 13),\n        maxCount: 15,\n      });\n    },\n\n    routes() {\n      this.get('/user', (schema, request) => {\n        const { queryParams } = request;\n        const { username, password } = queryParams;\n\n        const user = schema.users.findBy({ name: username, password });\n\n        if (user) {\n          return new Response(200, { 'Content-Type': 'application/json' }, user);\n        } else {\n          return new Response(401, { 'Content-Type': 'application/json' }, { error: 'Invalid credentials' });\n        }\n      });\n\n      this.post('/login', (schema, request) => {\n        const { username, password } = JSON.parse(request.requestBody);\n        const user = schema.db.users.findBy({ name: username, password });\n      \n        if (user) {\n          return new Response(200, { 'Content-Type': 'application/json' }, user);\n        } else {\n          return new Response(401, { 'Content-Type': 'application/json' }, { error: 'Invalid credentials' });\n        }\n      });\n      \n\n      this.get('/activities', (schema) => {\n        return new Response(200, { 'Content-Type': 'application/json' }, schema.db.activities);\n      });\n\n      this.post('/bookings', (schema, request) => {\n        console.log('Received booking request:', request.requestBody);\n        try {\n          const bookingData = JSON.parse(request.requestBody);\n          const booking = schema.bookings.create(bookingData);\n          console.log('Created booking:', booking);\n          return booking;\n        } catch (error) {\n          console.error('Error creating booking:', error);\n          return new Response(500); // Return a 500 status code on error\n        }\n      });\n      // ...\n\nthis.post('/activities', (schema, request) => {\n  const activityData = JSON.parse(request.requestBody);\n  const activity = schema.activities.create(activityData);\n  return activity;\n});\n\n// ...\n\n    },\n  });\n\n  return server;\n}\n\n\n\n\n\n\n\n/*import { createServer, Model, Response } from 'miragejs';\n\nexport function makeServer() {\n  let server = createServer({\n    models: {\n      user: Model,\n      activity: Model, // Add a model for activities\n      booking: Model,\n    },\n    \n    seeds(server) {\n      console.log(\"Working\");\n      server.create('user', { \n        id: 5,\n        name: 'Alex',\n        password: 'AlexPassword',\n        role: 'USER',\n        activities: [],\n      });\n      server.create('user', { \n        id: 6,\n        name: 'Anna',\n        password: 'AnnaPassword',\n        role: 'ADMIN',\n        activities: [],\n      });\n      server.create('user', {\n        id: 7,\n        name: 'Roger',\n        password: 'RogerPassword',\n        role: 'USER',\n        activities: [],\n      });\n      \n      server.create('activity', { \n        id: 1,\n        title: 'Boxing',\n        content: 'Boxing in the mud',\n        date: new Date(2023, 5, 20), \n        maxCount: 20,\n      });\n      server.create('activity', { \n        id: 2,\n        title: 'Spinning',\n        content: 'Indoor cycling',\n        date: new Date(2023, 8, 5),\n        maxCount: 7,\n      });\n      server.create('activity', {\n        id: 3, \n        title: 'Gym',\n        content: 'Strength training',\n        date: new Date(2023, 9, 19),\n        maxCount: 2,\n      });\n      server.create('activity', { \n        id: 4,\n        title: 'Aerobics',\n        content: 'Cardio workout',\n        date: new Date(2023, 9, 13),\n        maxCount: 15,\n      });\n    },\n\n    routes() {\n      this.get('/user', (schema) => {\n        return new Response(200, { 'Content-Type': 'application/json' }, schema.db.users);\n      });\n\n      this.get('/activities', (schema) => {\n        return new Response(200, { 'Content-Type': 'application/json' }, schema.db.activities);\n      });\n\n      this.post('/bookings', (schema, request) => {\n        console.log('Received booking request:', request.requestBody);\n        try {\n          const bookingData = JSON.parse(request.requestBody);\n          const booking = schema.bookings.create(bookingData);\n          console.log('Created booking:', booking);\n          return booking;\n        } catch (error) {\n          console.error('Error creating booking:', error);\n          return new Response(500); // Return a 500 status code on error\n        }\n      });\n\n      console.log(\"TestTest\");\n    },\n  });\n\n  return server;\n}\n*/\n\n\n/////TEST 2\n\n// import { createServer, Model, Response, Server, JSONAPISerializer } from 'miragejs';\n\n// export function makeServer(): Server {\n//   let server = createServer({\n//     serializers: {\n//       application: JSONAPISerializer,\n//     },\n\n//     models: {\n//       user: Model,\n//     },\n    \n//     seeds(server): void {\n//       console.log(\"Working\");\n//       server.create('user', { name: 'Bob' });\n//       server.create('user', { name: 'Alice' });\n//     },\n\n//     routes(): void {\n//       this.get('/users', (schema): Response => {\n//         console.log(\"TestTest\");\n//         const users = schema.db.users;\n//         return new Response(200, { 'Content-Type': 'application/json' }, { users });\n//       });\n//     },\n//   });\n\n//   return server;\n// }\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}